# Software Engineering

## #09 DevOps ‚ôæÔ∏è

WSEG / HS24<br />

[Source](https://github.com/digital-sustainability/module-wseg/tree/24/hs/docs/slides/content/08) licensed under [CC-BY-4.0](https://github.com/digital-sustainability/module-wseg/blob/24/hs/LICENSE)

--

1. R√ºckblick
2. Verst√§ndnis "DevOps" üìö
   - organisatorisch
   - technisch
3. Hands-on "Pers√∂nliches" git üõ†Ô∏è

--

### R√ºckblick

- Merge-Requests
  - kann MR nachtr√§glich [ge√∂ffnet werden?](https://gitlab.com/gitlab-org/gitlab-foss/-/merge_requests/8352)
  - DIY: Ready to merge! -> Delete source branch & merge
- Fragen euerseits?

---

### Begriff "DevOps"

- bezeichnet eine IT-Kulturtechnik
- Kofferwort aus "Development" und "IT Operations"
- 2009 von Patrick Debois gepr√§gt
- [Anekdote](https://boingboing.net/2016/06/08/coder-fired-after-6-years-for.html) aus gleicher Zeit

--

### Ausgestaltungen

<img src="https://web.devopstopologies.com/images/2019-07-30--DOTs-types-thumb.png" height="400px" />

[Gelebte Team-Topologien](https://web.devopstopologies.com/#team-topologies)

--

### Werte dahinter: CA(L)MS

- Culture
- Automation
- (Lean)
- Measurement
- Sharing

[erl√§uterte Details](https://www.atlassian.com/de/devops/frameworks/calms-framework), [Incident Metriken](https://www.atlassian.com/de/incident-management/kpis/common-metrics)

--

#### Andere Kombinationen

- [DevSecOps](https://about.gitlab.com/blog/2021/06/01/gitlab-is-setting-standard-for-devsecops/)
- [GitOps](https://about.gitlab.com/topics/gitops/)
- BizDev(Ops)
  - [Paper 2017](https://www.sciencedirect.com/science/article/abs/pii/S0164121215001430?via%3Dihub)

> ‚ùì Gibt es andere Methoden / Frameworks, die √§hnliche Ziele wie DevOps verfolgen? Falls ja, ...

---

### Stages / Continous Workflow ‚ôæÔ∏è

<img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Devops-toolchain.svg" height="400px" />

oder PLAN, CODE, BUILD, TEST, RELEASE, DEPLOY, OPERATE, MONITOR

--

### lokale Entwicklungsumgebung

#### vs.

### automatisierter Integrationsserver

--

### CI / CD

<img src="https://miro.medium.com/v2/resize:fit:2000/format:webp/1*57INuyf56018l0Y_Pel0ig.png" height="600px" />

--

### ‚ùì

> Welche Strategien und Werkzeuge w√ºrdest du empfehlen, um die Kluft zwischen Entwicklung (Dev) und Betrieb (Ops) in einem Unternehmen zu √ºberbr√ºcken und eine effektive DevOps-Kultur zu f√∂rdern?

--

### Video: CI with GitLab

<iframe width="640" height="360" src="https://www.youtube-nocookie.com/embed/ljth1Q5oJoo" title="Continuous Integration with GitLab (overview demo)" frameborder="0" allow="encrypted-media; gyroscope; picture-in-picture;" allowfullscreen></iframe>

https://www.youtube-nocookie.com/embed/ljth1Q5oJoo

---

### Beispiel: Single-Page-Application "updaten"

![](https://suresoft.dev/assets/workshops/continuous-integration/img/ci-gitlab.JPG)

- [Gitlab CI Pipeline](https://docs.gitlab.com/ee/ci/quick_start/)
  (Github nennt das [Actions](https://github.com/actions/) )

--

### Demo: ... f√ºr Produktionsumgebung

#### Was macht "`npm run build`"?

- z.B. TypeScript ‚û°Ô∏è JavaScript
- neuer Ordner üìÅ **dist/** mit:
  - index.html
  - assets/index-xyz.js
  - assets/index-xyz.css<br />
    (dist = distribution)

--

#### Beispiel / [Quell-Repository](https://gitlab.com/gitlab-org/frontend/playground/vue3-test-picker)

https://gitlab-org.gitlab.io/frontend/playground/vue3-test-picker/

### Ausschnitt .gitlab-ci.yml

```yml
pages:
  script:
    - cd frontend
    - npm install
    - npm run build
  artifacts:
    paths:
      - frontend/dist/
```

Siehe auch: [vite: static deployment](https://vitejs.dev/guide/static-deploy#gitlab-pages-and-gitlab-ci)

--

### Wann ausf√ºhren?

```yml
rules:
  - if: $CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH
```

Weitere M√∂glichkeiten, z.B. bestimmtes Wort in CI_COMMIT_MESSAGE, manueller Start via GitLab-Frontend ‚ñ∂Ô∏è, etc.

--

### ‚ùì

> Welche Vorteile bietet die kontinuierliche Integration im Kontext der DevOps-Automatisierung?

---

<!-- .slide: data-background="#fff5c1" -->

### Hands-on: Gitlab Page mit Pipeline

```
 * HTML-"Page" ver√∂ffentlichen auf Gitlab
   * CI-Pipeline kennenlernen
   * Konvertierung Markdown -> HTML
```

--

<!-- .slide: data-background="#fff5c1" -->

#### Fork im pers√∂nlichen Namespace

- Unterschied **forken** üç¥ zu clonen

  - Original ist _upstream_, der Fork **downstream**

- **Merge-Request** bzw. **Pull-Request**:
  - Eine Anfrage an upstream..
  - ..bestimmte √Ñnderungen von downstream zu integrieren

--

<!-- .slide: data-background="#fff5c1" -->

### Kurze √úbung üõ†Ô∏è

#### ..als Basis f√ºr 3. Deliverable

https://gitlab.ti.bfh.ch/dsl-student-projects/wseg-24-hs/sandbox/

- Bitte [sandbox](https://gitlab.ti.bfh.ch/dsl-student-projects/wseg-24-hs/sandbox/) nach abcd1 forken
- wird "Personal Project"<br/>
  https://gitlab.ti.bfh.ch/abcd1/sandbox/

---

### Fragen?

--

> Wie k√∂nnte die Implementierung von GitLab CI/CD in einem Startup die Produktentwicklungszyklen beeinflussen und welche praktischen Vorteile k√∂nnte das Team erwarten?

---

### Passw√∂rter im Quellcode ‚ö†Ô∏è

[Gitlab: Secret Detection](https://docs.gitlab.com/ee/user/application_security/secret_detection/)

#### L√∂sung: Secrets in CI-Variablen

z.B. f√ºr Deployment-Tokens, ...<br />
[Gitlab: CI Variables](https://docs.gitlab.com/ee/ci/variables/)

--

### Incident? Git-history ver√§ndern!

[Github: Removing Sensitive Data](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository)

.. und dezentrale Repositories "aktualisieren"

--

### Sicherheitsl√ºcken, Compliance Lizenzmodelle

- [internes Beispiel: Vulnerability Report](https://gitlab.ti.bfh.ch/digital-sustainability-lab/edp/-/security/vulnerability_report)
- [internes Beispiel: Verwendete Lizenzen](https://gitlab.ti.bfh.ch/digital-sustainability-lab/edp/-/licenses)

---

### Ausblick

- #10 Cloud Infrastructure (MT remote) /<br />CI/CD Teil 2 / Coaching
- #11 Closing DevOps, Monitoring (MT)
  - Wrap-up #3
  - Qualit√§tskriterien Praxisprojekt
- #12 Accessibility / Software Testing (JB)
